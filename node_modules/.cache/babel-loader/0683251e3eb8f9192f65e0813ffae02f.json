{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: process.env.tableName,\n    Key: {\n      yearMonth: '{\"N\": \"' + event.pathParameters.yearMonth + '\"',\n      transactionId: '{\"S\": \"' + event.pathParameters.transactionId + '\"'\n    }\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"get\", params);\n\n    if (result.Item) {\n      // Return the retrieved item\n      return success(result.Item);\n    } else {\n      return failure({\n        status: false,\n        error: \"Item not found.\"\n      });\n    }\n  } catch (e) {\n    return failure({\n      status: {\n        params,\n        e\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/home/robert/Projects/budget/single_transaction.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","process","env","tableName","Key","yearMonth","pathParameters","transactionId","result","call","Item","status","error","e"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AAE1C,QAAMC,MAAM,GAAG;AACfC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADR;AAEfC,IAAAA,GAAG,EAAE;AACJC,MAAAA,SAAS,EAAE,YAAYR,KAAK,CAACS,cAAN,CAAqBD,SAAjC,GAA6C,GADpD;AAEJE,MAAAA,aAAa,EAAE,YAAYV,KAAK,CAACS,cAAN,CAAqBC,aAAjC,GAAiD;AAF5D;AAFU,GAAf;;AAQA,MAAI;AACH,UAAMC,MAAM,GAAG,MAAMf,WAAW,CAACgB,IAAZ,CAAiB,KAAjB,EAAuBV,MAAvB,CAArB;;AAEA,QAAIS,MAAM,CAACE,IAAX,EAAiB;AAChB;AACA,aAAOhB,OAAO,CAACc,MAAM,CAACE,IAAR,CAAd;AACC,KAHF,MAIK;AACJ,aAAOf,OAAO,CAAC;AAAEgB,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAD,CAAd;AACC;AACD,GAVF,CAWA,OAAOC,CAAP,EAAU;AACT,WAAOlB,OAAO,CAAC;AAAEgB,MAAAA,MAAM,EAAE;AAACZ,QAAAA,MAAD;AAASc,QAAAA;AAAT;AAAV,KAAD,CAAd;AACC;AACD","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\n\nexport async function main(event, context) {\n\n\tconst params = {\n\tTableName: process.env.tableName,\n\tKey: {\n\t\tyearMonth: '{\"N\": \"' + event.pathParameters.yearMonth + '\"',\n\t\ttransactionId: '{\"S\": \"' + event.pathParameters.transactionId + '\"'\n\t\t}\n\t};\n\n\ttry {\n\t\tconst result = await dynamoDbLib.call(\"get\",params);\n\n\t\tif (result.Item) {\n\t\t\t// Return the retrieved item\n\t\t\treturn success(result.Item);\n\t\t\t}\n\t\telse {\n\t\t\treturn failure({ status: false, error: \"Item not found.\" });\n\t\t\t}\n\t\t}\n\tcatch (e) {\n\t\treturn failure({ status: {params, e} });\n\t\t}\n\t}"]},"metadata":{},"sourceType":"module"}