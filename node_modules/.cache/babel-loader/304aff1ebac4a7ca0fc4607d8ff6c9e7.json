{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: process.env.tableName,\n    Key: {\n      yearMonth: event.pathParameters.yearMonth\n    }\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"get\", params);\n\n    if (result.Item) {\n      // Return the retrieved item\n      return success(result.Item);\n    } else {\n      return failure({\n        status: false,\n        error: \"Item not found.\"\n      });\n    }\n  } catch (e) {\n    return failure({\n      status: {\n        params,\n        e\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/home/robert/Projects/budget/single_transaction.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","process","env","tableName","Key","yearMonth","pathParameters","result","call","Item","status","error","e"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AAE1C,QAAMC,MAAM,GAAG;AACfC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADR;AAEfC,IAAAA,GAAG,EAAE;AACJC,MAAAA,SAAS,EAAER,KAAK,CAACS,cAAN,CAAqBD;AAD5B;AAFU,GAAf;;AAOA,MAAI;AACH,UAAME,MAAM,GAAG,MAAMd,WAAW,CAACe,IAAZ,CAAiB,KAAjB,EAAuBT,MAAvB,CAArB;;AAEA,QAAIQ,MAAM,CAACE,IAAX,EAAiB;AAChB;AACA,aAAOf,OAAO,CAACa,MAAM,CAACE,IAAR,CAAd;AACC,KAHF,MAIK;AACJ,aAAOd,OAAO,CAAC;AAAEe,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAD,CAAd;AACC;AACD,GAVF,CAWA,OAAOC,CAAP,EAAU;AACT,WAAOjB,OAAO,CAAC;AAAEe,MAAAA,MAAM,EAAE;AAACX,QAAAA,MAAD;AAASa,QAAAA;AAAT;AAAV,KAAD,CAAd;AACC;AACD","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\n\nexport async function main(event, context) {\n\n\tconst params = {\n\tTableName: process.env.tableName,\n\tKey: {\n\t\tyearMonth: event.pathParameters.yearMonth\n\t\t}\n\t};\n\n\ttry {\n\t\tconst result = await dynamoDbLib.call(\"get\",params);\n\n\t\tif (result.Item) {\n\t\t\t// Return the retrieved item\n\t\t\treturn success(result.Item);\n\t\t\t}\n\t\telse {\n\t\t\treturn failure({ status: false, error: \"Item not found.\" });\n\t\t\t}\n\t\t}\n\tcatch (e) {\n\t\treturn failure({ status: {params, e} });\n\t\t}\n\t}"]},"metadata":{},"sourceType":"module"}