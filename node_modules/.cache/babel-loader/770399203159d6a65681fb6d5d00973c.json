{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: process.env.tableName,\n    KeyConditionExpression: \"yearMonth = :yearMonth\",\n    ExpressionAttributeValues: {\n      \":yearMonth\": event.pathParameters.yearMonth\n    }\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"query\", params);\n    return success(result.Items);\n  } catch (e) {\n    return failure({\n      status: {\n        params,\n        e\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/home/robert/Projects/budget/monthly_transactions.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","process","env","tableName","KeyConditionExpression","ExpressionAttributeValues","pathParameters","yearMonth","result","call","Items","e","status"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AAE1C,QAAMC,MAAM,GAAG;AACdC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADT;AAEdC,IAAAA,sBAAsB,EAAE,wBAFV;AAGdC,IAAAA,yBAAyB,EAAE;AAAC,oBAAcR,KAAK,CAACS,cAAN,CAAqBC;AAApC;AAHb,GAAf;;AAMA,MAAI;AACH,UAAMC,MAAM,GAAG,MAAMf,WAAW,CAACgB,IAAZ,CAAiB,OAAjB,EAAyBV,MAAzB,CAArB;AACA,WAAOL,OAAO,CAACc,MAAM,CAACE,KAAR,CAAd;AACC,GAHF,CAIA,OAAOC,CAAP,EAAU;AACT,WAAOhB,OAAO,CAAC;AAAEiB,MAAAA,MAAM,EAAE;AAACb,QAAAA,MAAD;AAASY,QAAAA;AAAT;AAAV,KAAD,CAAd;AACC;AACD","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\n\nexport async function main(event, context) {\n\n\tconst params = {\n\t\tTableName: process.env.tableName,\n\t\tKeyConditionExpression: \"yearMonth = :yearMonth\",\n\t\tExpressionAttributeValues: {\":yearMonth\": event.pathParameters.yearMonth}\n\t\t};\n\n\ttry {\n\t\tconst result = await dynamoDbLib.call(\"query\",params);\n\t\treturn success(result.Items);\n\t\t}\n\tcatch (e) {\n\t\treturn failure({ status: {params, e} });\n\t\t}\n\t}\n"]},"metadata":{},"sourceType":"module"}