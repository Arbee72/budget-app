{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: process.env.tableName,\n    Key: {\n      yearMonth: event.pathParameters.yearMonth,\n      transactionId: event.pathParameters.transactionId\n    },\n    ProjectionExpression: ' '\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"get\", params);\n\n    if (result.Item) {\n      // Return the retrieved item\n      return success(result.Item);\n    } else {\n      return failure({\n        status: false,\n        error: \"Item not found.\"\n      });\n    }\n  } catch (e) {\n    return failure({\n      status: {\n        params,\n        e\n      }\n    });\n  }\n}\n/*import { success, failure } from \"./libs/response-lib\";\nvar AWS = require('aws-sdk');\n\n\nexport async function main(event, context) {\n\n\n}*/","map":{"version":3,"sources":["/home/robert/Projects/budget/single_transaction.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","process","env","tableName","Key","yearMonth","pathParameters","transactionId","ProjectionExpression","result","call","Item","status","error","e"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AAE1C,QAAMC,MAAM,GAAG;AACdC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADT;AAEdC,IAAAA,GAAG,EAAE;AACJC,MAAAA,SAAS,EAAER,KAAK,CAACS,cAAN,CAAqBD,SAD5B;AAEJE,MAAAA,aAAa,EAAEV,KAAK,CAACS,cAAN,CAAqBC;AAFhC,KAFS;AAMdC,IAAAA,oBAAoB,EAAE;AANR,GAAf;;AASA,MAAI;AACH,UAAMC,MAAM,GAAG,MAAMhB,WAAW,CAACiB,IAAZ,CAAiB,KAAjB,EAAuBX,MAAvB,CAArB;;AAEA,QAAIU,MAAM,CAACE,IAAX,EAAiB;AAChB;AACA,aAAOjB,OAAO,CAACe,MAAM,CAACE,IAAR,CAAd;AACC,KAHF,MAIK;AACJ,aAAOhB,OAAO,CAAC;AAAEiB,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAD,CAAd;AACC;AACD,GAVF,CAWA,OAAOC,CAAP,EAAU;AACT,WAAOnB,OAAO,CAAC;AAAEiB,MAAAA,MAAM,EAAE;AAACb,QAAAA,MAAD;AAASe,QAAAA;AAAT;AAAV,KAAD,CAAd;AACC;AACD;AAEF","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\n\nexport async function main(event, context) {\n\n\tconst params = {\n\t\tTableName: process.env.tableName,\n\t\tKey: {\n\t\t\tyearMonth: event.pathParameters.yearMonth ,\n\t\t\ttransactionId: event.pathParameters.transactionId\n\t\t\t},\n\t\tProjectionExpression: ' '\n\t\t};\n\n\ttry {\n\t\tconst result = await dynamoDbLib.call(\"get\",params);\n\n\t\tif (result.Item) {\n\t\t\t// Return the retrieved item\n\t\t\treturn success(result.Item);\n\t\t\t}\n\t\telse {\n\t\t\treturn failure({ status: false, error: \"Item not found.\" });\n\t\t\t}\n\t\t}\n\tcatch (e) {\n\t\treturn failure({ status: {params, e} });\n\t\t}\n\t}\n\n/*import { success, failure } from \"./libs/response-lib\";\nvar AWS = require('aws-sdk');\n\n\nexport async function main(event, context) {\n\n\n}*/"]},"metadata":{},"sourceType":"module"}